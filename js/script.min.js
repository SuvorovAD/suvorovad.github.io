function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function check(){const e=document.querySelectorAll("input");for(let t=0;t<e.length;t++)"checkbox"==e[t].type&&(e[t].checked=!0);const t=document.getElementById("check");t.textContent="Снять все",t.setAttribute("onclick","uncheck()")}function uncheck(){const e=document.querySelectorAll("input");for(let t=0;t<e.length;t++)"checkbox"==e[t].type&&(e[t].checked=!1);const t=document.getElementById("check");t.textContent="Выбрать всех",t.setAttribute("onclick","check()")}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));let newPlayers=0;function addPlayer(){document.querySelector(".choice__players").insertAdjacentHTML("beforeend",`\n        <div class="choice__player player checkbox">\n            <input class="custom-checkbox" type="checkbox" id="${newPlayers}">\n            <label for="${newPlayers}"></label>\n            <input type="text"class="choice__input in-real-time" placeholder="Введите имя">\n        </div>\n    `),newPlayers++}function generation(){let e=document.getElementById("main-button"),t=document.getElementById("mafia"),n=document.getElementById("don"),o=document.getElementById("doctor"),r=document.getElementById("commissiar");function c(t){if(""!==t.value)return e.parentElement.querySelector("div")&&e.parentElement.removeChild(e.parentElement.querySelector("div")),t.value;t.classList.add("error"),e.parentElement.querySelector("div")||e.insertAdjacentHTML("afterend","<div>Введите корректные данные</div>")}t=c(t),n=c(n),o=c(o),r=c(r);let l=[],i=document.querySelectorAll("input:checked");for(let e=0;e<i.length;e++){const t=i[e];if(t.parentElement.querySelector(".in-real-time")){const e=t.parentElement.querySelector(".in-real-time");""!==e.value&&l.push(e.value)}else if(t.parentElement.querySelector("label")){const e=t.parentElement.querySelector("label");l.push(e.textContent)}}let a=[],d=[],u=[],s=[];if(void 0!==r&&void 0!==o&&void 0!==n&&void 0!==t)if(parseInt(r,10)+parseInt(o,10)+parseInt(n,10)+parseInt(t,10)<=l.length){function m(e,t){for(let n=0;n<parseInt(e,10);n++){let e=l[Math.floor(Math.random()*l.length)];t[n]=e,l.splice(l.indexOf(e),1)}}e.parentElement.querySelector("div")&&e.parentElement.removeChild(e.parentElement.querySelector("div")),m(r,s),m(o,u),m(n,d),m(t,a);let c=document.querySelector(".mafia").querySelector("span"),i=document.querySelector(".don").querySelector("span"),y=document.querySelector(".doctor").querySelector("span"),p=document.querySelector(".сommissar").querySelector("span");c.textContent=a.join(", "),i.textContent=d.join(", "),y.textContent=u.join(", "),p.textContent=s.join(", ")}else e.parentElement.querySelector("div")||e.insertAdjacentHTML("afterend","<div>Выберите больше игроков или меньше ролей</div>")}const inputs=document.querySelectorAll("input");inputs.forEach((e=>{e.addEventListener("blur",(e=>{e.target.value?e.target.classList.add("dirty"):e.target.classList.remove("dirty")}))}));